[{"/home/enochc/Code/mqtt_js_server/front-end/src/index.js":"1"},{"size":1628,"mtime":1610971886337,"results":"2","hashOfConfig":"3"},{"filePath":"4","messages":"5","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"6"},"djjvuh","/home/enochc/Code/mqtt_js_server/front-end/src/index.js",["7","8"],"import { render } from '@testing-library/react';\nimport React, {useEffect, useState} from 'react';\nimport ReactDOM from 'react-dom';\nimport {LineChart, Line, CartesianGrid, XAxis, YAxis, Tooltip} from 'recharts';\n\nconst MyChart = (props) => {\n  const tt_format = (value, name, props) => {\n    return [value, \"data\"]\n  }\n  return(\n    <LineChart width={1600} height={400} data={props.data}>\n      <Line type=\"monotone\" dataKey=\"payload\" dot={false}/>\n      <CartesianGrid stroke=\"#ccc\"/>\n      <Tooltip formatter={tt_format}/>\n      <XAxis\n        dataKey=\"timestamp\"\n        type=\"number\"\n        scale=\"time\"\n        domain={['dataMin', 'dataMax']}\n        label={{value:\"Time (s)\", position:'insideBottom', offset:0}}\n      />\n      <YAxis/>\n    </LineChart>\n  );\n}\n\nconst App = (props) => {\n  const [data, setData] = useState([]);\n  const topic = \"esp32-temp/in/dht11/temperature/C\";\n  const url = \"http://0.0.0.0:5000/mqtt/q?t=\" + topic;\n\n  useEffect(() => {\n    fetch(url)\n      .then((response) => response.json())\n      .then((data) => {\n        setData(data);\n      });\n  },[]);  \n\n  return(\n    <div>\n      <h1>{topic}</h1>\n      <MyChart data={data}/>\n      <table>\n        <tr>\n          <th>Time</th>\n          <th>Data</th>\n        </tr>\n        {data.map((point, index) =>{\n          const dateobj = new Date(point.timestamp);\n          return(\n            <tr key={index}>\n              <td>{dateobj.toLocaleString()}</td>\n              <td>{point.payload}</td>\n            </tr>\n          );\n        }\n        )}\n      </table>\n    </div>\n\n  );\n}\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);",{"ruleId":"9","severity":1,"message":"10","line":1,"column":10,"nodeType":"11","messageId":"12","endLine":1,"endColumn":16},{"ruleId":"13","severity":1,"message":"14","line":38,"column":5,"nodeType":"15","endLine":38,"endColumn":7,"suggestions":"16"},"no-unused-vars","'render' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'url'. Either include it or remove the dependency array.","ArrayExpression",["17"],{"desc":"18","fix":"19"},"Update the dependencies array to be: [url]",{"range":"20","text":"21"},[1082,1084],"[url]"]